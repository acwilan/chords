---
import App from '../layouts/App.astro';
import { getLocaleFromUrl, createT } from '../utils/i18n';

const base = import.meta.env.BASE_URL.endsWith('/')
  ? import.meta.env.BASE_URL
  : `${import.meta.env.BASE_URL}/`;
const locale = getLocaleFromUrl(Astro.url.pathname, base);
const t = createT(locale);
const description = t('home.intro');
const url = locale === 'en' ? `${base}en/` : base;
---
<App>
  <Fragment slot="head">
    <title>{t('site.title')}</title>
    <meta name="description" content={description} />
    <meta property="og:title" content={t('site.title')} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={url} />
  </Fragment>
  <section class="not-prose flex min-h-[60vh] flex-col items-center justify-center py-24 text-center">
    <h1 class="text-5xl font-bold">{t('site.title')}</h1>
    <p class="mt-4 text-xl text-gray-600 dark:text-gray-300">{t('home.intro')}</p>
    <a
      href={`${base}${locale === 'en' ? 'en/' : ''}songs/`}
      class="btn-primary mt-8 px-6 py-3 text-lg"
    >
      {t('home.browseSongs')}
    </a>
  </section>
</App>

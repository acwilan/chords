---
import App from '../layouts/App.astro';
import { getLocaleFromUrl, createT } from '../utils/i18n';
import Changelog from '../../CHANGELOG.md';

const base = import.meta.env.BASE_URL.endsWith('/')
  ? import.meta.env.BASE_URL
  : `${import.meta.env.BASE_URL}/`;
const locale = getLocaleFromUrl(Astro.url.pathname, base);
const t = createT(locale);
const url = `${base}${locale === 'en' ? 'en/' : ''}changelog/`;
const description = t('changelog.title');
---
<App>
  <Fragment slot="head">
    <title>{t('changelog.title')}</title>
    <meta name="description" content={description} />
    <meta property="og:title" content={t('changelog.title')} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={url} />
  </Fragment>
  <Changelog />
</App>
